## Statistic

![Statistic](Icon.png "Statistic")

Statisticは,統計のイメージを掴むための簡単なおもちゃです。

### 基本
- XYグラフ上で点をプロットしていくにつれ変化する統計量を体感する。
- -1≤x≤1,-1≤y≤1 の範囲を表示する。
- マウスでクリック又はタッチすることで点をプロットする。
- すでにプロットした点も移動させることができる。
- 画面右下のボタンを押すとメニューが表示され,そこから各種機能を呼び出せる。

### 統計量の表示

- 緑,青の領域によって,プロットした点のX方向,Y方向それぞれの傾向を表示する。
- 赤の直線によって,プロットした点全体に関するトレンドラインを表示する。

### メニュー内のボタン
- “CS” : 外観モードの切り替え (ライト/ダーク)  
	ライト/ダークの切り替えといった外観設定がシステムで用意されている場合は,システムでの設定を反映し,このボタンは表示されない。
- “CL” : 現在プロットされている点を全て削除
- “SQ” : 正方形表示のオン/オフ
	* オフの場合,ビューポートのサイズに合わせてグラフの縦横それぞれを伸縮させる。
	* オンの場合,ビューポートに収まるサイズの正方形でグラフを表示する。
	* 本来, x,y の値域は等しいので,そのことを強調するためにオンにした方が見やすい場合がある。
- “σ”, “AD”, “Q” : 領域の表示モードの切り替え
	- 現在のモードを表示しており,押すたびに切り替わる。
	- それぞれのモードの違いは後述
- “PC”, “X-Y”, “Y-X” : 直線のモードの切り替え
	- 現在のモードを表示しており,押すたびに切り替わる。
	- それぞれのモードの違いは後述
- “⚀” : ランダムに指定した座標の点を1つ追加
	* 一様分布に従う乱数で平面上の追加点の座標を決定する。
- “N ⚀” : ランダムに指定した座標で点を1つ追加
	* 正規分布に従う乱数で平面上の追加点の座標を決定する。  
	* 正規分布における平均値は 0 ,標準偏差は 1/3 となるよう調整している。
- “×” : メニューを閉じる

### 領域のモード

緑はX方向,青はY方向に関して,それぞれ中心線と,その周りの2つの外郭領域によって特徴量をグラフ上で示している。
#### σ : 標準偏差  
中心線は平均値 `μ` で,その周りに,標準偏差 `σ` により, `μ±σ` , `μ±2σ` で表される領域が表示される。
#### AD : 平均値に対する絶対偏差の平均  
σの時と同様に表示されるが,この場合,標準偏差 `σ` の代わりに,各々の点に関して平均値からの偏差の絶対値をとり,それらを平均して得た値を採用する。
#### Q : 四分位範囲  
最大値,最小値に挟まれた領域と,四分位範囲を表す領域を表示する。中心線は中央値になる。

### 直線のモード

#### PC : 主成分ベクトル方向の直線
プロットした点から算出される主成分ベクトルに平行な直線を表示する。ベクトル方向の寄与率に基づいて直線の色の濃さが変化する。  
平面上における主成分は一般に2つ存在し,互いに垂直である。  
ある方向に各点を並べた際に,最も分散が大きくなる方向と小さくなる方向がある。平面上ではこれらが2つの主成分となる。  
つまり,色の濃い直線の方向にプロットした点の特徴が最もよく現れ,薄い方向に最も現れにくい。  
具体的にどれほど特徴が現れているかを示すのが寄与率,つまり,色の濃さである。  
両直線はプロットした点の平均の点を通るようにしている。
#### X-Y : Xを説明変数,Yを目的変数とした時の,線形回帰直線  
最小2乗法によりプロット点から予測される,Xに対するYの線形的関係を表す。  
色の濃さは相関係数の絶対量を示す。
#### Y-X : Yを説明変数,Xを目的変数とした時の,線形回帰直線  
最小2乗法によりプロット点から予測される,Yに対するXの線形的関係を表す。  
色の濃さは相関係数の絶対量を示す。

これら3つのモードにおいて,直線は次の特徴を持つとされる

* PC : 色の濃い方の直線は,各点からの垂線の長さの和が最小になる。
* X-Y : 各点と直線のY方向のズレの絶対値の和が最小になる。
* Y-X : 各点と直線のX方向のズレの絶対値の和が最小になる。


### 特記事項
- JavaScript,CSSを無効にすると利用できない。
- 同じURLでそのままデスクトップでも,モバイルでも利用できる。
- Internet Explorerでは利用できない。
- iOSデバイスでは,ホーム画面にアイコンを追加すると,スタンドアロンで開く。
- iPhone X 対応。
- iOSのChromeでは適切に表示されない。

### 開く
- [オンライン版](https://akimikimikimikimikimikimika.github.io/Statistic/Statistic.html "Statisticオンライン版")
- [オフライン版](https://akimikimikimikimikimikimika.github.io/Statistic/offline.html "Statisticオフライン版")
- [ソースコード (GitHub)](https://github.com/akimikimikimikimikimikimika/Statistic/ "ソースコード")

オンライン版では,全てのコンテンツを組み込み,常に最新の状態で利用できます。  
オフライン版では,オンライン版と同じ体験をオフラインでもできるようにします。URLのdataスキームに全てのソースコードを埋め込んでいるので,一部コンテンツに制限があります。